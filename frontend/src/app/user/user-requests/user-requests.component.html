<app-user-navigation></app-user-navigation>
<br>
<br>
<div class="mat-headline-3  flex-row">Sent Requests</div>
<table
  mat-table
  [dataSource]="dataSource"
  class="mat-elevation-z8 height-50"
  matSort>
  <ng-container matColumnDef="Issuer SN">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Issuer SN</th>
    <td mat-cell *matCellDef="let element">{{ element.issuerSerialNumber }}</td>
  </ng-container>

  <ng-container matColumnDef="Certificate Type">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Certificate Type</th>
    <td mat-cell *matCellDef="let element">
      {{ element.certificateType }}
    </td>
  </ng-container>

  <ng-container matColumnDef="Organization">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Organization</th>
    <td class = "width-20" mat-cell *matCellDef="let element">{{ element.organizationData.name + ', ' + element.organizationData.unit + ', ' + element.organizationData.countryCode }}</td>
  </ng-container>

  <ng-container matColumnDef="Date Requested">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Date Requested</th>
    <td mat-cell *matCellDef="let element">{{ element.dateRequested | date:'yyyy-MM-dd' }}</td>
  </ng-container>

  <ng-container matColumnDef="Valid (To)">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Valid (To)</th>
    <td mat-cell *matCellDef="let element">{{ element.validUntil | date:'yyyy-MM-dd' }}</td>
  </ng-container>

  <ng-container matColumnDef="Status">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
    <td mat-cell *matCellDef="let element">{{ element.requestStatus }}</td>
  </ng-container>

  <ng-container matColumnDef="Denial Reason">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Denial Reason</th>
    <td class = "width-20" mat-cell *matCellDef="let element">{{ element.denialReason }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
  <tr mat-row (click)="setButtonsStatus(element)" *matRowDef="let element; columns: displayedColumns"></tr>
</table>
<mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons> </mat-paginator>
<br>
<div class="flex-row">
<!--
  <button mat-raised-button style="margin-right: 2em;"
          color="primary"
          class="width-exact"
          [disabled]="!enableStatusChange"
          (click)="acceptRequest()">Accept</button>
  <button mat-raised-button color="primary"
          style="margin-right: 2em;"
          class="width-exact"
          (click)="denyRequest()"
          [disabled]="!enableStatusChange">Deny</button>-->
  <button mat-raised-button color="primary" class="width-exact">New request</button>
</div>
